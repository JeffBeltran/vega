import{useState as e,useEffect as t}from"react";var n=function e(t){function n(e,t,r){var a,o={};if(Array.isArray(e))return e.concat(t);for(a in e)o[r?a.toLowerCase():a]=e[a];for(a in t){var i=r?a.toLowerCase():a,u=t[a];o[i]=i in o&&"object"==typeof u?n(o[i],u,"headers"===i):u}return o}function r(e,r,a,o){"string"!=typeof e&&(e=(r=e).url);var i={config:r},u=n(t,r),c={},s=o||u.data;(u.transformRequest||[]).map((function(e){s=e(s,u.headers)||s})),s&&"object"==typeof s&&"function"!=typeof s.append&&(s=JSON.stringify(s),c["content-type"]="application/json");var f="undefined"!=typeof document&&document.cookie.match(RegExp("(^|; )"+u.xsrfCookieName+"=([^;]*)"));if(f&&(c[u.xsrfHeaderName]=f[2]),u.auth&&(c.authorization=u.auth),u.baseURL&&(e=e.replace(/^(?!.*\/\/)\/?(.*)$/,u.baseURL+"/$1")),u.params){var p=~e.indexOf("?")?"&":"?";e+=p+(u.paramsSerializer?u.paramsSerializer(u.params):new URLSearchParams(u.params))}return(u.fetch||fetch)(e,{method:a||u.method,body:s,headers:n(u.headers,c,!0),credentials:u.withCredentials?"include":"same-origin"}).then((function(e){for(var t in e)"function"!=typeof e[t]&&(i[t]=e[t]);var n=u.validateStatus?u.validateStatus(e.status):e.ok;return"stream"==u.responseType?(i.data=e.body,i):e[u.responseType||"text"]().then((function(e){i.data=e,i.data=JSON.parse(e)})).catch(Object).then((function(){return n?i:Promise.reject(i)}))}))}return t=t||{},r.request=r,r.get=function(e,t){return r(e,t,"get")},r.delete=function(e,t){return r(e,t,"delete")},r.head=function(e,t){return r(e,t,"head")},r.options=function(e,t){return r(e,t,"options")},r.post=function(e,t,n){return r(e,n,"post",t)},r.put=function(e,t,n){return r(e,n,"put",t)},r.patch=function(e,t,n){return r(e,n,"patch",t)},r.all=Promise.all.bind(Promise),r.spread=function(e){return function(t){return e.apply(this,t)}},r.CancelToken="function"==typeof AbortController?AbortController:Object,r.defaults=t,r.create=e,r}();const r=(r={enabled:!0})=>{const[a,o]=e({}),[i,u]=e(!1),c=()=>{u(!0),n("https://api.spacexdata.com/v4/launches/next").then((e=>{o(e.data)})).finally((()=>{u(!1)}))};return t((()=>{console.log("but now it should",r.enabled),r.enabled&&c()}),[]),{isLoading:i,nextLaunch:a,getNextLaunch:c}};export{r as useNextLaunch};
